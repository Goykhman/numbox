

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>numbox.core.proxy &mdash; numbox  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
    <link rel="canonical" href="https://goykhman.github.io/numbox/numbox.core.proxy.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="numbox.core.work" href="numbox.core.work.html" />
    <link rel="prev" title="numbox.core.bindings" href="numbox.core.bindings.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            numbox
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">numbox</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="numbox.core.any.html">numbox.core.any</a></li>
<li class="toctree-l2"><a class="reference internal" href="numbox.core.bindings.html">numbox.core.bindings</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">numbox.core.proxy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modules">Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-numbox.core.proxy.proxy">numbox.core.proxy.proxy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numbox.core.work.html">numbox.core.work</a></li>
<li class="toctree-l2"><a class="reference internal" href="numbox.utils.html">numbox.utils</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">numbox</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">numbox</a></li>
      <li class="breadcrumb-item active">numbox.core.proxy</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/numbox.core.proxy.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="numbox-core-proxy">
<h1>numbox.core.proxy<a class="headerlink" href="#numbox-core-proxy" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>Implementation of <a class="reference internal" href="#module-numbox.core.proxy.proxy" title="numbox.core.proxy.proxy"><code class="xref py py-func docutils literal notranslate"><span class="pre">numbox.core.proxy.proxy()</span></code></a> decorator that swaps definition of a jit-compiled
function in-place for a declaration (while delegating the actual implementation
to a different function that is only accessible indirectly). As a result, statically linking in libraries
corresponding to proxy-jitted functions called from other jitted functions will
only paste a declaration rather than the entire LLVM IR code.</p>
</section>
<section id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Link to this heading"></a></h2>
<section id="module-numbox.core.proxy.proxy">
<span id="numbox-core-proxy-proxy"></span><h3>numbox.core.proxy.proxy<a class="headerlink" href="#module-numbox.core.proxy.proxy" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="numbox.core.proxy.proxy.make_proxy_name">
<span class="sig-prename descclassname"><span class="pre">numbox.core.proxy.proxy.</span></span><span class="sig-name descname"><span class="pre">make_proxy_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/numbox/core/proxy/proxy.html#make_proxy_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#numbox.core.proxy.proxy.make_proxy_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="numbox.core.proxy.proxy.proxy">
<span class="sig-prename descclassname"><span class="pre">numbox.core.proxy.proxy.</span></span><span class="sig-name descname"><span class="pre">proxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jit_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/numbox/core/proxy/proxy.html#proxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#numbox.core.proxy.proxy.proxy" title="Link to this definition"></a></dt>
<dd><p>Create a proxy for the decorated function <cite>func</cite> with the given signature(s) <cite>sig</cite>.</p>
<p>The original function <cite>func</cite> will be eagerly JIT-compiled with the given signature(s).
A proxy with the name <cite>func_proxy_name</cite> will be created to call <cite>func</cite> in the LLVM scope.
The original function’s variable will be bound to the proxy, i.e., calling the decorated
function will call the proxy.</p>
<p>The proxy is a JIT-compiled wrap that invokes the intrinsic that <em>declares</em> the <cite>func</cite>
and calls it with the original arguments. Declaration instructions are relatively cheap
to statically link into (potential) caller’s LLVM code, which is the main motivation behind
this decorator.</p>
<p>Machine code for <cite>func</cite> can be cached when so specified in <cite>jit_options</cite>, in which case its
JIT-compilation will load the <cite>func</cite> into the LLVM scope. Caching option is the other major
motivation for this decorator, without the need to cache one can avoid static linking
of the callee’s LLVM code into the caller’s by simply ignoring the former.</p>
<p>In case when more than one signature is provided as the <cite>sig</cite> parameter, it is assumed
that the first signature is the ‘main’ one while the other ones are supplied to
allow for the <cite>Omitted</cite> types with default values for (some of) the parameters.</p>
<p>See tests for some examples of the use cases.</p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="numbox.core.bindings.html" class="btn btn-neutral float-left" title="numbox.core.bindings" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="numbox.core.work.html" class="btn btn-neutral float-right" title="numbox.core.work" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Mikhail Goykhman.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>